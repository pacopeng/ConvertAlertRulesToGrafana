{
    "apiVersion": 1,
    "groups": [
        {
            "orgId": 1,
            "name": "cluster-network-operator-ovn.rules",
            "folder": "RHOCP_OPS_EXTRA/openshift-ovn-kubernetes-networking-rules.yaml",
            "interval": "1m",
            "rules": [
                {
                    "uid": "25bd82cb-553c-5d03-97b7-4f1c60c8d5e6",
                    "title": "NodeWithoutOVNKubeNodePodRunning",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "(kube_node_info unless on(node) (kube_pod_info{namespace=\"openshift-ovn-kubernetes\",pod=~\"ovnkube-node.*\"}\nor kube_node_labels{label_kubernetes_io_os=\"windows\"})) \u003e 0\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "20m",
                    "annotations": {
                        "description": "Networking is degraded on nodes that do not have a functioning ovnkube-node pod. Existing workloads on the\nnode may continue to have connectivity but any changes to the networking control plane will not be implemented.\n",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/cluster-network-operator/NodeWithoutOVNKubeNodePodRunning.md",
                        "summary": "All Linux nodes should be running an ovnkube-node pod, {{ $labels.node }} is not."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "f446675e-4345-5a24-b354-87a086688c62",
                    "title": "OVNKubernetesControllerDisconnectedSouthboundDatabase",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "max_over_time(ovn_controller_southbound_database_connected[5m]) == 0\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "10m",
                    "annotations": {
                        "description": "Networking is degraded on nodes when OVN controller is not connected to OVN southbound database connection. No networking control plane updates will be applied to the node.\n",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/cluster-network-operator/OVNKubernetesControllerDisconnectedSouthboundDatabase.md",
                        "summary": "Networking control plane is degraded on node {{ $labels.node }} because OVN controller is not connected to OVN southbound database."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "0320d012-7b1c-511e-8ee6-6379991970e7",
                    "title": "OVNKubernetesNodePodAddError",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "(sum by(instance, namespace) (rate(ovnkube_node_cni_request_duration_seconds_count{command=\"ADD\",err=\"true\"}[5m]))\n  /\nsum by(instance, namespace) (rate(ovnkube_node_cni_request_duration_seconds_count{command=\"ADD\"}[5m])))\n\u003e 0.1\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "15m",
                    "annotations": {
                        "description": "OVN Kubernetes experiences pod creation errors at an elevated rate. The pods will be retried.",
                        "summary": "OVN Kubernetes is experiencing pod creation errors at an elevated rate."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "a1739e75-3bc6-5b5e-91b3-aa7517b98b12",
                    "title": "OVNKubernetesNodePodDeleteError",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "(sum by(instance, namespace) (rate(ovnkube_node_cni_request_duration_seconds_count{command=\"DEL\",err=\"true\"}[5m]))\n  /\nsum by(instance, namespace) (rate(ovnkube_node_cni_request_duration_seconds_count{command=\"DEL\"}[5m])))\n\u003e 0.1\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "15m",
                    "annotations": {
                        "description": "OVN Kubernetes experiences pod deletion errors at an elevated rate. The pods will be retried.",
                        "summary": "OVN Kubernetes experiencing pod deletion errors at an elevated rate."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "657abf49-1fbe-5490-946d-ae012bf8347b",
                    "title": "OVNKubernetesResourceRetryFailure",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "increase(ovnkube_resource_retry_failures_total[10m]) \u003e 0",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "annotations": {
                        "description": "OVN Kubernetes failed to apply networking control plane configuration after several attempts. This might be because the configuration\nprovided by the user is invalid or because of an internal error. As a consequence, the cluster might have a degraded status.\n",
                        "summary": "OVN Kubernetes failed to apply networking control plane configuration."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "5e581f1b-3bdd-59b2-b0c7-1905795dbb4a",
                    "title": "OVNKubernetesNodeOVSOverflowUserspace",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "increase(ovs_vswitchd_netlink_overflow[5m]) \u003e 0",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "15m",
                    "annotations": {
                        "description": "Netlink messages dropped by OVS vSwitch daemon due to netlink socket buffer overflow. This will result in packet loss.",
                        "summary": "OVS vSwitch daemon drops packets due to buffer overflow."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "b069464e-7863-54c0-9de2-28e2d35660b6",
                    "title": "OVNKubernetesNodeOVSOverflowKernel",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "increase(ovs_vswitchd_dp_flows_lookup_lost[5m]) \u003e 0",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "15m",
                    "annotations": {
                        "description": "Netlink messages dropped by OVS kernel module due to netlink socket buffer overflow. This will result in packet loss.",
                        "summary": "OVS kernel module drops packets due to buffer overflow."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "ecd57e25-c88e-52ec-8f5a-56fcfacde08d",
                    "title": "NorthboundStale",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "# Without max_over_time, failed scrapes could create false negatives, see\n# https://www.robustperception.io/alerting-on-gauges-in-prometheus-2-0 for details.\ntime() - max_over_time(ovnkube_controller_nb_e2e_timestamp[5m]) \u003e 120\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "10m",
                    "annotations": {
                        "description": "OVN-Kubernetes controller and/or OVN northbound database may cause a\ndegraded networking control plane for the affected node. Existing\nworkloads should continue to have connectivity but new workloads may\nbe impacted.\n",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/cluster-network-operator/NorthboundStaleAlert.md",
                        "summary": "OVN-Kubernetes controller {{ $labels.instance }} has not successfully synced any changes to the northbound database for too long."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "6048dcea-52b1-5869-8555-0e938178e829",
                    "title": "SouthboundStale",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "# Without max_over_time, failed scrapes could create false negatives, see\n# https://www.robustperception.io/alerting-on-gauges-in-prometheus-2-0 for details.\nmax_over_time(ovnkube_controller_nb_e2e_timestamp[5m]) - max_over_time(ovnkube_controller_sb_e2e_timestamp[5m]) \u003e 120\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "10m",
                    "annotations": {
                        "description": "OVN-Kubernetes controller and/or OVN northbound database may cause a\ndegraded networking control plane for the affected node. Existing\nworkloads should continue to have connectivity but new workloads may\nbe impacted.\n",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/cluster-network-operator/SouthboundStaleAlert.md",
                        "summary": "OVN northd {{ $labels.instance }} has not successfully synced any changes to the southbound database for too long."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "ac5bbca7-46a9-5705-9c4f-ee103ee6e48b",
                    "title": "OVNKubernetesNorthboundDatabaseCPUUsageHigh",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "(sum(rate(container_cpu_usage_seconds_total{container=\"nbdb\"}[5m])) BY (instance, name, namespace)) \u003e 0.8",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "15m",
                    "annotations": {
                        "description": "High OVN northbound CPU usage indicates high load on the networking\ncontrol plane for the affected node.\n",
                        "summary": "OVN northbound database {{ $labels.instance }} is greater than {{ $value | humanizePercentage }} percent CPU usage for a period of time."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "info"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "4dba24e0-ed8f-5d26-bcdc-d934360b8791",
                    "title": "OVNKubernetesSouthboundDatabaseCPUUsageHigh",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "(sum(rate(container_cpu_usage_seconds_total{container=\"sbdb\"}[5m])) BY (instance, name, namespace)) \u003e 0.8",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "15m",
                    "annotations": {
                        "description": "High OVN southbound CPU usage indicates high load on the networking\ncontrol plane for the affected node.\n",
                        "summary": "OVN southbound database {{ $labels.instance }} is greater than {{ $value | humanizePercentage }} percent CPU usage for a period of time."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "info"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "49228cd7-4dca-5548-894e-83eb03e7d433",
                    "title": "OVNKubernetesNorthdInactive",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "count(ovn_northd_status != 1) BY (instance, name, namespace) \u003e 0",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "10m",
                    "annotations": {
                        "description": "An inactive OVN northd instance may cause a degraded networking\ncontrol plane for the affected node. Existing workloads should\ncontinue to have connectivity but new workloads may be impacted.\n",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/cluster-network-operator/OVNKubernetesNorthdInactive.md",
                        "summary": "OVN northd {{ $labels.instance }} is not active."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                }
            ]
        }
    ]
}