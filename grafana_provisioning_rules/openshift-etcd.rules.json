{
    "apiVersion": 1,
    "groups": [
        {
            "orgId": 1,
            "name": "etcd",
            "folder": "RHOCP_OPS_EXTRA/openshift-etcd-operator-etcd-prometheus-rules.yaml",
            "interval": "1m",
            "rules": [
                {
                    "uid": "bc72c369-f3a6-5dc5-b19f-13cb210cdc57",
                    "title": "etcdMembersDown",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "ceuoby3nl4qgwc",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "ceuoby3nl4qgwc"
                                },
                                "expr": "max without (endpoint) (\n  sum without (instance) (up{job=~\".*etcd.*\"} == bool 0)\nor\n  count without (To) (\n    sum without (instance) (rate(etcd_network_peer_sent_failures_total{job=~\".*etcd.*\"}[120s])) > 0.01\n  )\n)\n> 0\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "10m",
                    "annotations": {
                        "description": "etcd cluster \"{{ $labels.job }}\": members are down ({{ $value }}).",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/cluster-etcd-operator/etcdMembersDown.md",
                        "summary": "etcd cluster members are down."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "critical"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "5b26a596-8795-5bd6-81a8-ad2f2bbca823",
                    "title": "etcdNoLeader",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "ceuoby3nl4qgwc",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "ceuoby3nl4qgwc"
                                },
                                "expr": "etcd_server_has_leader{job=~\".*etcd.*\"} == 0\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "1m",
                    "annotations": {
                        "description": "etcd cluster \"{{ $labels.job }}\": member {{ $labels.instance }} has no leader.",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/cluster-etcd-operator/etcdNoLeader.md",
                        "summary": "etcd cluster has no leader."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "critical"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "25a7a422-dc75-5e35-908f-436cb96102e6",
                    "title": "etcdMemberCommunicationSlow",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "ceuoby3nl4qgwc",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "ceuoby3nl4qgwc"
                                },
                                "expr": "histogram_quantile(0.99, rate(etcd_network_peer_round_trip_time_seconds_bucket{job=~\".*etcd.*\"}[5m]))\n> 0.15\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "10m",
                    "annotations": {
                        "description": "etcd cluster \"{{ $labels.job }}\": member communication with {{ $labels.To }} is taking {{ $value }}s on etcd instance {{ $labels.instance }}.",
                        "summary": "etcd cluster member communication is slow."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "5ebdad14-da1c-5841-b167-f2950d2980e3",
                    "title": "etcdHighNumberOfFailedProposals",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "ceuoby3nl4qgwc",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "ceuoby3nl4qgwc"
                                },
                                "expr": "rate(etcd_server_proposals_failed_total{job=~\".*etcd.*\"}[15m]) > 5\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "15m",
                    "annotations": {
                        "description": "etcd cluster \"{{ $labels.job }}\": {{ $value }} proposal failures within the last 30 minutes on etcd instance {{ $labels.instance }}.",
                        "summary": "etcd cluster has high number of proposal failures."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "9ae8a4c9-8b80-5d43-8ca1-073044fb3eaf",
                    "title": "etcdHighFsyncDurations",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "ceuoby3nl4qgwc",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "ceuoby3nl4qgwc"
                                },
                                "expr": "histogram_quantile(0.99, rate(etcd_disk_wal_fsync_duration_seconds_bucket{job=~\".*etcd.*\"}[5m]))\n> 0.5\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "10m",
                    "annotations": {
                        "description": "etcd cluster \"{{ $labels.job }}\": 99th percentile fsync durations are {{ $value }}s on etcd instance {{ $labels.instance }}.",
                        "summary": "etcd cluster 99th percentile fsync durations are too high."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "6e2b9f97-7748-59b3-92d4-78894a7c61ab",
                    "title": "etcdHighFsyncDurations",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "ceuoby3nl4qgwc",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "ceuoby3nl4qgwc"
                                },
                                "expr": "histogram_quantile(0.99, rate(etcd_disk_wal_fsync_duration_seconds_bucket{job=~\".*etcd.*\"}[5m]))\n> 1\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "10m",
                    "annotations": {
                        "description": "etcd cluster \"{{ $labels.job }}\": 99th percentile fsync durations are {{ $value }}s on etcd instance {{ $labels.instance }}.",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/cluster-etcd-operator/etcdHighFsyncDurations.md",
                        "summary": "etcd cluster 99th percentile fsync durations are too high."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "critical"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "94e3677b-e50e-5e45-86ae-3da2ffaf3981",
                    "title": "etcdHighCommitDurations",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "ceuoby3nl4qgwc",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "ceuoby3nl4qgwc"
                                },
                                "expr": "histogram_quantile(0.99, rate(etcd_disk_backend_commit_duration_seconds_bucket{job=~\".*etcd.*\"}[5m]))\n> 0.25\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "10m",
                    "annotations": {
                        "description": "etcd cluster \"{{ $labels.job }}\": 99th percentile commit durations {{ $value }}s on etcd instance {{ $labels.instance }}.",
                        "summary": "etcd cluster 99th percentile commit durations are too high."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "28c13d85-fca0-526d-8338-69b87e5b82c3",
                    "title": "etcdDatabaseQuotaLowSpace",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "ceuoby3nl4qgwc",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "ceuoby3nl4qgwc"
                                },
                                "expr": "(last_over_time(etcd_mvcc_db_total_size_in_bytes[5m]) / last_over_time(etcd_server_quota_backend_bytes[5m]))*100 > 95\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "10m",
                    "annotations": {
                        "description": "etcd cluster \"{{ $labels.job }}\": database size exceeds the defined quota on etcd instance {{ $labels.instance }}, please defrag or increase the quota as the writes to etcd will be disabled when it is full.",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/cluster-etcd-operator/etcdDatabaseQuotaLowSpace.md",
                        "summary": "etcd cluster database is running full."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "critical"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "da3299d0-904e-5925-a211-dc03722ea326",
                    "title": "etcdExcessiveDatabaseGrowth",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "ceuoby3nl4qgwc",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "ceuoby3nl4qgwc"
                                },
                                "expr": "predict_linear(etcd_mvcc_db_total_size_in_bytes[4h], 4*60*60) > etcd_server_quota_backend_bytes\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "10m",
                    "annotations": {
                        "description": "etcd cluster \"{{ $labels.job }}\": Predicting running out of disk space in the next four hours, based on write observations within the past four hours on etcd instance {{ $labels.instance }}, please check as it might be disruptive.",
                        "summary": "etcd cluster database growing very fast."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "7851e4b1-69f6-563b-a537-548344efd1bb",
                    "title": "etcdDatabaseHighFragmentationRatio",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "ceuoby3nl4qgwc",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "ceuoby3nl4qgwc"
                                },
                                "expr": "(last_over_time(etcd_mvcc_db_total_size_in_use_in_bytes[5m]) / last_over_time(etcd_mvcc_db_total_size_in_bytes[5m])) < 0.5 and etcd_mvcc_db_total_size_in_use_in_bytes > 104857600\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "10m",
                    "annotations": {
                        "description": "etcd cluster \"{{ $labels.job }}\": database size in use on instance {{ $labels.instance }} is {{ $value | humanizePercentage }} of the actual allocated disk space, please run defragmentation (e.g. etcdctl defrag) to retrieve the unused fragmented disk space.",
                        "runbook_url": "https://etcd.io/docs/v3.5/op-guide/maintenance/#defragmentation",
                        "summary": "etcd database size in use is less than 50% of the actual allocated storage."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                }
            ]
        },
        {
            "orgId": 1,
            "name": "openshift-etcd.rules",
            "folder": "RHOCP_OPS_EXTRA/openshift-etcd-operator-etcd-prometheus-rules.yaml",
            "interval": "1m",
            "rules": [
                {
                    "uid": "0ee9b722-054f-5810-aee8-4d0c7f92e7cc",
                    "title": "etcdGRPCRequestsSlow",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "ceuoby3nl4qgwc",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "ceuoby3nl4qgwc"
                                },
                                "expr": "histogram_quantile(0.99, sum(rate(grpc_server_handling_seconds_bucket{job=\"etcd\", grpc_method!=\"Defragment\", grpc_type=\"unary\"}[10m])) without(grpc_type))\n> 1\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "30m",
                    "annotations": {
                        "description": "etcd cluster \"{{ $labels.job }}\": 99th percentile of gRPC requests is {{ $value }}s on etcd instance {{ $labels.instance }} for {{ $labels.grpc_method }} method.",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/cluster-etcd-operator/etcdGRPCRequestsSlow.md",
                        "summary": "etcd grpc requests are slow"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "critical"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "d359b521-1bad-5339-afb0-cfe775ece1b9",
                    "title": "etcdHighNumberOfFailedGRPCRequests",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "ceuoby3nl4qgwc",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "ceuoby3nl4qgwc"
                                },
                                "expr": "(sum(rate(grpc_server_handled_total{job=\"etcd\", grpc_code=~\"Unknown|FailedPrecondition|ResourceExhausted|Internal|Unavailable|DataLoss|DeadlineExceeded\"}[5m])) without (grpc_type, grpc_code)\n  /\n(sum(rate(grpc_server_handled_total{job=\"etcd\"}[5m])) without (grpc_type, grpc_code)\n  > 2 and on ()(sum(cluster_infrastructure_provider{type!~\"ipi|BareMetal\"} == bool 1)))) * 100 > 10\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "10m",
                    "annotations": {
                        "description": "etcd cluster \"{{ $labels.job }}\": {{ $value }}% of requests for {{ $labels.grpc_method }} failed on etcd instance {{ $labels.instance }}.",
                        "summary": "etcd cluster has high number of failed grpc requests."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "0ae77a1f-7baf-55da-ab07-f8251f481569",
                    "title": "etcdHighNumberOfFailedGRPCRequests",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "ceuoby3nl4qgwc",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "ceuoby3nl4qgwc"
                                },
                                "expr": "(sum(rate(grpc_server_handled_total{job=\"etcd\", grpc_code=~\"Unknown|FailedPrecondition|ResourceExhausted|Internal|Unavailable|DataLoss|DeadlineExceeded\"}[5m])) without (grpc_type, grpc_code)\n  /\n(sum(rate(grpc_server_handled_total{job=\"etcd\"}[5m])) without (grpc_type, grpc_code)\n  > 2 and on ()(sum(cluster_infrastructure_provider{type!~\"ipi|BareMetal\"} == bool 1)))) * 100 > 50\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "10m",
                    "annotations": {
                        "description": "etcd cluster \"{{ $labels.job }}\": {{ $value }}% of requests for {{ $labels.grpc_method }} failed on etcd instance {{ $labels.instance }}.",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/cluster-etcd-operator/etcdHighNumberOfFailedGRPCRequests.md",
                        "summary": "etcd cluster has high number of failed grpc requests."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "critical"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "5d7c15de-e55c-5c9d-aa73-c2d99fc011fa",
                    "title": "etcdHighNumberOfLeaderChanges",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "ceuoby3nl4qgwc",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "ceuoby3nl4qgwc"
                                },
                                "expr": "avg(changes(etcd_server_is_leader[10m])) > 5\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "5m",
                    "annotations": {
                        "description": "etcd cluster \"{{ $labels.job }}\": {{ $value }} average leader changes within the last 10 minutes. Frequent elections may be a sign of insufficient resources, high network latency, or disruptions by other components and should be investigated.",
                        "summary": "etcd cluster has high number of leader changes."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "57d26622-6a06-5092-9244-7c885302abd3",
                    "title": "etcdInsufficientMembers",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "ceuoby3nl4qgwc",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "ceuoby3nl4qgwc"
                                },
                                "expr": "sum(up{job=\"etcd\"} == bool 1 and etcd_server_has_leader{job=\"etcd\"} == bool 1) without (instance,pod) < ((count(up{job=\"etcd\"}) without (instance,pod) + 1) / 2)",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "3m",
                    "annotations": {
                        "description": "etcd is reporting fewer instances are available than are needed ({{ $value }}). When etcd does not have a majority of instances available the Kubernetes and OpenShift APIs will reject read and write requests and operations that preserve the health of workloads cannot be performed. This can occur when multiple control plane nodes are powered off or are unable to connect to each other via the network. Check that all control plane nodes are powered on and that network connections between each machine are functional.",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/cluster-etcd-operator/etcdInsufficientMembers.md",
                        "summary": "etcd is reporting that a majority of instances are unavailable."
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "critical"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                }
            ]
        }
    ]
}