{
    "apiVersion": 1,
    "groups": [
        {
            "orgId": 1,
            "name": "ceph-mds-status",
            "folder": "RHOCP_OPS_EXTRA/openshift-storage-prometheus-ceph-rules.yaml",
            "interval": "1m",
            "rules": [
                {
                    "uid": "2087f8cc-a06f-5aa5-80c0-d27e3cbbc0d5",
                    "title": "CephMdsMissingReplicas",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "sum by (namespace) (ceph_mds_metadata{job=\"rook-ceph-mgr\"} == 1) \u003c 2\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "5m",
                    "annotations": {
                        "description": "Minimum required replicas for storage metadata service not available. Might affect the working of storage cluster.",
                        "message": "Insufficient replicas for storage metadata service.",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/CephMdsMissingReplicas.md",
                        "severity_level": "warning",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                }
            ]
        },
        {
            "orgId": 1,
            "name": "ceph-mgr-status",
            "folder": "RHOCP_OPS_EXTRA/openshift-storage-prometheus-ceph-rules.yaml",
            "interval": "1m",
            "rules": [
                {
                    "uid": "88b7e408-ce75-5c90-b6f8-a30edd5134e4",
                    "title": "CephMgrIsAbsent",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "label_replace((up{job=\"rook-ceph-mgr\"} == 0 or absent(up{job=\"rook-ceph-mgr\"})), \"namespace\", \"openshift-storage\", \"\", \"\")\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "5m",
                    "annotations": {
                        "description": "Ceph Manager has disappeared from Prometheus target discovery.",
                        "message": "Storage metrics collector service not available anymore.",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/CephMgrIsAbsent.md",
                        "severity_level": "critical",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "critical"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "32a3440d-9b3f-5029-b762-b5cb562f7f85",
                    "title": "CephMgrIsMissingReplicas",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "sum by (namespace) (kube_deployment_spec_replicas{deployment=~\"rook-ceph-mgr-.*\"}) \u003c 1\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "5m",
                    "annotations": {
                        "description": "Ceph Manager is missing replicas.",
                        "message": "Storage metrics collector service doesn't have required no of replicas.",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/CephMgrIsMissingReplicas.md",
                        "severity_level": "warning",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                }
            ]
        },
        {
            "orgId": 1,
            "name": "ceph-node-alert.rules",
            "folder": "RHOCP_OPS_EXTRA/openshift-storage-prometheus-ceph-rules.yaml",
            "interval": "1m",
            "rules": [
                {
                    "uid": "6c808e8d-fcf7-554c-92a2-ab80d5ade1c8",
                    "title": "CephNodeDown",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "cluster:ceph_node_down:join_kube == 0\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "30s",
                    "annotations": {
                        "description": "Storage node {{ $labels.node }} went down. Please check the node immediately.",
                        "message": "Storage node {{ $labels.node }} went down",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/CephNodeDown.md",
                        "severity_level": "error",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "critical"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                }
            ]
        },
        {
            "orgId": 1,
            "name": "ceph.rules",
            "folder": "RHOCP_OPS_EXTRA/openshift-storage-prometheus-ceph-rules.yaml",
            "interval": "1m",
            "rules": [
                {
                    "uid": "9c2670c0-8587-5e5e-bbf3-e0c5be0bece0",
                    "title": "cluster:ceph_node_down:join_kube",
                    "condition": "query",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "kube_node_status_condition{condition=\"Ready\",job=\"kube-state-metrics\",status=\"true\"} * on (node) group_right() max by (node, namespace) (label_replace(ceph_disk_occupation{job=\"rook-ceph-mgr\"},\"node\",\"$1\",\"exported_instance\",\"(.*)\"))\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "labels": {
                        "__converted_prometheus_rule__": "true"
                    },
                    "isPaused": false,
                    "record": {
                        "metric": "cluster:ceph_node_down:join_kube",
                        "from": "query",
                        "targetDatasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                    },
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "e266bd1f-0717-5806-8b1e-93498a1ed2a8",
                    "title": "cluster:ceph_disk_latency:join_ceph_node_disk_irate1m",
                    "condition": "query",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "avg by (namespace) (topk by (ceph_daemon, namespace) (1, label_replace(label_replace(ceph_disk_occupation{job=\"rook-ceph-mgr\"}, \"instance\", \"$1\", \"exported_instance\", \"(.*)\"), \"device\", \"$1\", \"device\", \"/dev/(.*)\")) * on(instance, device) group_right(ceph_daemon, namespace) topk by (instance, device, namespace) (1,(irate(node_disk_read_time_seconds_total[1m]) + irate(node_disk_write_time_seconds_total[1m]) / (clamp_min(irate(node_disk_reads_completed_total[1m]), 1) + irate(node_disk_writes_completed_total[1m])))))\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "labels": {
                        "__converted_prometheus_rule__": "true"
                    },
                    "isPaused": false,
                    "record": {
                        "metric": "cluster:ceph_disk_latency:join_ceph_node_disk_irate1m",
                        "from": "query",
                        "targetDatasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                    },
                    "missing_series_evals_to_resolve": 1
                }
            ]
        },
        {
            "orgId": 1,
            "name": "cluster-state-alert.rules",
            "folder": "RHOCP_OPS_EXTRA/openshift-storage-prometheus-ceph-rules.yaml",
            "interval": "1m",
            "rules": [
                {
                    "uid": "e80b2b3f-1298-5155-bdea-c8336a047918",
                    "title": "CephClusterErrorState",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "ceph_health_status{job=\"rook-ceph-mgr\"} \u003e 1\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "10m",
                    "annotations": {
                        "description": "Storage cluster is in error state for more than 10m.",
                        "message": "Storage cluster is in error state",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/CephClusterErrorState.md",
                        "severity_level": "error",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "critical"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "e2d06640-81a9-583b-b551-c6f25b09ea8c",
                    "title": "CephClusterWarningState",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "ceph_health_status{job=\"rook-ceph-mgr\"} == 1\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "15m",
                    "annotations": {
                        "description": "Storage cluster is in warning state for more than 15m.",
                        "message": "Storage cluster is in degraded state",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/CephClusterWarningState.md",
                        "severity_level": "warning",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "72e54117-b11c-5ebd-9c99-e9005f4ff400",
                    "title": "CephOSDVersionMismatch",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "count by (namespace) (count by (ceph_version, namespace) (ceph_osd_metadata{job=\"rook-ceph-mgr\", ceph_version != \"\"})) \u003e 1\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "10m",
                    "annotations": {
                        "description": "There are {{ $value }} different versions of Ceph OSD components running.",
                        "message": "There are multiple versions of storage services running.",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/CephOSDVersionMismatch.md",
                        "severity_level": "warning",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "098fe46c-7724-56aa-80d9-cde8af99424c",
                    "title": "CephMonVersionMismatch",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "count by (namespace) (count by (ceph_version, namespace) (ceph_mon_metadata{job=\"rook-ceph-mgr\", ceph_version != \"\"})) \u003e 1\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "10m",
                    "annotations": {
                        "description": "There are {{ $value }} different versions of Ceph Mon components running.",
                        "message": "There are multiple versions of storage services running.",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/CephMonVersionMismatch.md",
                        "severity_level": "warning",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                }
            ]
        },
        {
            "orgId": 1,
            "name": "cluster-utilization-alert.rules",
            "folder": "RHOCP_OPS_EXTRA/openshift-storage-prometheus-ceph-rules.yaml",
            "interval": "1m",
            "rules": [
                {
                    "uid": "538b875e-15aa-5d48-a94e-a39714f96ec2",
                    "title": "CephClusterNearFull",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "ceph_cluster_total_used_raw_bytes / ceph_cluster_total_bytes \u003e 0.75\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "5s",
                    "annotations": {
                        "description": "Storage cluster utilization has crossed 75% and will become read-only at 85%. Free up some space or expand the storage cluster.",
                        "message": "Storage cluster is nearing full. Data deletion or cluster expansion is required.",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/CephClusterNearFull.md",
                        "severity_level": "warning",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "959f7cbf-353c-5cf6-99b5-52ed390b2296",
                    "title": "CephClusterCriticallyFull",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "ceph_cluster_total_used_raw_bytes / ceph_cluster_total_bytes \u003e 0.80\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "5s",
                    "annotations": {
                        "description": "Storage cluster utilization has crossed 80% and will become read-only at 85%. Free up some space or expand the storage cluster immediately.",
                        "message": "Storage cluster is critically full and needs immediate data deletion or cluster expansion.",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/CephClusterCriticallyFull.md",
                        "severity_level": "error",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "critical"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "645d0bd4-1080-59d2-86fe-bf4a4975eb42",
                    "title": "CephClusterReadOnly",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "ceph_cluster_total_used_raw_bytes / ceph_cluster_total_bytes \u003e= 0.85\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "annotations": {
                        "description": "Storage cluster utilization has crossed 85% and will become read-only now. Free up some space or expand the storage cluster immediately.",
                        "message": "Storage cluster is read-only now and needs immediate data deletion or cluster expansion.",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/CephClusterReadOnly.md",
                        "severity_level": "error",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "critical"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                }
            ]
        },
        {
            "orgId": 1,
            "name": "osd-alert.rules",
            "folder": "RHOCP_OPS_EXTRA/openshift-storage-prometheus-ceph-rules.yaml",
            "interval": "1m",
            "rules": [
                {
                    "uid": "a779530e-4df9-5bf4-acf1-d49e870e3300",
                    "title": "CephOSDCriticallyFull",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "(ceph_osd_metadata * on (ceph_daemon, namespace) group_right(device_class,hostname) (ceph_osd_stat_bytes_used / ceph_osd_stat_bytes)) \u003e= 0.80\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "40s",
                    "annotations": {
                        "description": "Utilization of storage device {{ $labels.ceph_daemon }} of device_class type {{ $labels.device_class }} has crossed 80% on host {{ $labels.hostname }}. Immediately free up some space or add capacity of type {{ $labels.device_class }}.",
                        "message": "Back-end storage device is critically full.",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/CephOSDCriticallyFull.md",
                        "severity_level": "error",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "critical"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "031d548e-c2c0-5275-87eb-7d10a70eec54",
                    "title": "CephOSDFlapping",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "changes(ceph_osd_up[5m]) \u003e= 10\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "annotations": {
                        "description": "Storage daemon {{ $labels.ceph_daemon }} has restarted 10 times in last 5 minutes. Please check the pod events or ceph status to find out the cause.",
                        "message": "Ceph storage osd flapping.",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/CephOSDFlapping.md",
                        "severity_level": "error",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "critical"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "d2cdf1f2-c380-5977-bfdf-7fbe300c821a",
                    "title": "CephOSDNearFull",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "(ceph_osd_metadata * on (ceph_daemon, namespace) group_right(device_class,hostname) (ceph_osd_stat_bytes_used / ceph_osd_stat_bytes)) \u003e= 0.75\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "40s",
                    "annotations": {
                        "description": "Utilization of storage device {{ $labels.ceph_daemon }} of device_class type {{ $labels.device_class }} has crossed 75% on host {{ $labels.hostname }}. Immediately free up some space or add capacity of type {{ $labels.device_class }}.",
                        "message": "Back-end storage device is nearing full.",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/CephOSDNearFull.md",
                        "severity_level": "warning",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "4221420d-e8ce-52ae-8fe4-4fd4e7ca4025",
                    "title": "CephOSDDiskNotResponding",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "label_replace((ceph_osd_in == 1 and ceph_osd_up == 0),\"disk\",\"$1\",\"ceph_daemon\",\"osd.(.*)\") + on(ceph_daemon, namespace) group_left(host, device) label_replace(ceph_disk_occupation{job=\"rook-ceph-mgr\"},\"host\",\"$1\",\"exported_instance\",\"(.*)\")\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "15m",
                    "annotations": {
                        "description": "Disk device {{ $labels.device }} not responding, on host {{ $labels.host }}.",
                        "message": "Disk not responding",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/CephOSDDiskNotResponding.md",
                        "severity_level": "error",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "critical"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "fc030c65-ba04-5f44-a615-3fc4f431224c",
                    "title": "CephOSDDiskUnavailable",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "label_replace((ceph_osd_in == 0 and ceph_osd_up == 0),\"disk\",\"$1\",\"ceph_daemon\",\"osd.(.*)\") + on(ceph_daemon, namespace) group_left(host, device) label_replace(ceph_disk_occupation{job=\"rook-ceph-mgr\"},\"host\",\"$1\",\"exported_instance\",\"(.*)\")\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "1m",
                    "annotations": {
                        "description": "Disk device {{ $labels.device }} not accessible on host {{ $labels.host }}.",
                        "message": "Disk not accessible",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/CephOSDDiskUnavailable.md",
                        "severity_level": "error",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "critical"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "757e95c6-4f1e-5f53-8147-afe8b95261e3",
                    "title": "CephOSDSlowOps",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "ceph_healthcheck_slow_ops \u003e 0\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "30s",
                    "annotations": {
                        "description": "{{ $value }} Ceph OSD requests are taking too long to process. Please check ceph status to find out the cause.",
                        "message": "OSD requests are taking too long to process.",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/CephOSDSlowOps.md",
                        "severity_level": "warning",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "2596f617-c36a-55c7-9721-e521a7172642",
                    "title": "CephDataRecoveryTakingTooLong",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "ceph_pg_undersized \u003e 0\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "2h",
                    "annotations": {
                        "description": "Data recovery has been active for too long. Contact Support.",
                        "message": "Data recovery is slow",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/CephDataRecoveryTakingTooLong.md",
                        "severity_level": "warning",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "5cdad3d0-c4a1-567e-a02a-3c17b502f146",
                    "title": "CephPGRepairTakingTooLong",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "ceph_pg_inconsistent \u003e 0\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "1h",
                    "annotations": {
                        "description": "Self heal operations taking too long. Contact Support.",
                        "message": "Self heal problems detected",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/CephPgRepairTakingTooLong.md",
                        "severity_level": "warning",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                }
            ]
        },
        {
            "orgId": 1,
            "name": "persistent-volume-alert.rules",
            "folder": "RHOCP_OPS_EXTRA/openshift-storage-prometheus-ceph-rules.yaml",
            "interval": "1m",
            "rules": [
                {
                    "uid": "29ff3e32-6c1a-5427-9842-305799ec2b33",
                    "title": "PersistentVolumeUsageNearFull",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "(kubelet_volume_stats_used_bytes * on (namespace,persistentvolumeclaim) group_left(storageclass, provisioner) (kube_persistentvolumeclaim_info * on (storageclass)  group_left(provisioner) kube_storageclass_info {provisioner=~\"(.*rbd.csi.ceph.com)|(.*cephfs.csi.ceph.com)\"})) / (kubelet_volume_stats_capacity_bytes * on (namespace,persistentvolumeclaim) group_left(storageclass, provisioner) (kube_persistentvolumeclaim_info * on (storageclass)  group_left(provisioner) kube_storageclass_info {provisioner=~\"(.*rbd.csi.ceph.com)|(.*cephfs.csi.ceph.com)\"})) \u003e 0.75\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "5s",
                    "annotations": {
                        "description": "PVC {{ $labels.persistentvolumeclaim }} utilization has crossed 75%. Free up some space or expand the PVC.",
                        "message": "PVC {{ $labels.persistentvolumeclaim }} is nearing full. Data deletion or PVC expansion is required.",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/PersistentVolumeUsageNearFull.md",
                        "severity_level": "warning",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "a0d2e854-28a3-5013-bd97-cea893a6843b",
                    "title": "PersistentVolumeUsageCritical",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "(kubelet_volume_stats_used_bytes * on (namespace,persistentvolumeclaim) group_left(storageclass, provisioner) (kube_persistentvolumeclaim_info * on (storageclass)  group_left(provisioner) kube_storageclass_info {provisioner=~\"(.*rbd.csi.ceph.com)|(.*cephfs.csi.ceph.com)\"})) / (kubelet_volume_stats_capacity_bytes * on (namespace,persistentvolumeclaim) group_left(storageclass, provisioner) (kube_persistentvolumeclaim_info * on (storageclass)  group_left(provisioner) kube_storageclass_info {provisioner=~\"(.*rbd.csi.ceph.com)|(.*cephfs.csi.ceph.com)\"})) \u003e 0.85\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "5s",
                    "annotations": {
                        "description": "PVC {{ $labels.persistentvolumeclaim }} utilization has crossed 85%. Free up some space or expand the PVC immediately.",
                        "message": "PVC {{ $labels.persistentvolumeclaim }} is critically full. Data deletion or PVC expansion is required.",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/PersistentVolumeUsageCritical.md",
                        "severity_level": "error",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "critical"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                }
            ]
        },
        {
            "orgId": 1,
            "name": "pool-quota.rules",
            "folder": "RHOCP_OPS_EXTRA/openshift-storage-prometheus-ceph-rules.yaml",
            "interval": "1m",
            "rules": [
                {
                    "uid": "44692fc6-ed2e-5bb2-adec-d037f80ddfa1",
                    "title": "CephPoolQuotaBytesNearExhaustion",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "(ceph_pool_stored_raw * on (pool_id) group_left(name, namespace)ceph_pool_metadata) / ((ceph_pool_quota_bytes * on (pool_id) group_left(name, namespace)ceph_pool_metadata) \u003e 0) \u003e 0.70\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "1m",
                    "annotations": {
                        "description": "Storage pool {{ $labels.name }} quota usage has crossed 70%.",
                        "message": "Storage pool quota(bytes) is near exhaustion.",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/CephPoolQuotaBytesNearExhaustion.md",
                        "severity_level": "warning",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "048c2213-da7f-5c64-b967-618ec288bd62",
                    "title": "CephPoolQuotaBytesCriticallyExhausted",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "(ceph_pool_stored_raw * on (pool_id) group_left(name, namespace)ceph_pool_metadata) / ((ceph_pool_quota_bytes * on (pool_id) group_left(name, namespace)ceph_pool_metadata) \u003e 0) \u003e 0.90\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "1m",
                    "annotations": {
                        "description": "Storage pool {{ $labels.name }} quota usage has crossed 90%.",
                        "message": "Storage pool quota(bytes) is critically exhausted.",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/CephPoolQuotaBytesCriticallyExhausted.md",
                        "severity_level": "critical",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "critical"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                }
            ]
        },
        {
            "orgId": 1,
            "name": "quorum-alert.rules",
            "folder": "RHOCP_OPS_EXTRA/openshift-storage-prometheus-ceph-rules.yaml",
            "interval": "1m",
            "rules": [
                {
                    "uid": "1d427880-60a0-5fb7-ac07-cf40cefd54f6",
                    "title": "CephMonQuorumAtRisk",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "count by (namespace) (ceph_mon_quorum_status{job=\"rook-ceph-mgr\"} == 1) \u003c= (floor(count by (namespace) (ceph_mon_metadata{job=\"rook-ceph-mgr\"}) / 2) + 1)\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "15m",
                    "annotations": {
                        "description": "Storage cluster quorum is low. Contact Support.",
                        "message": "Storage quorum at risk",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/CephMonQuorumAtRisk.md",
                        "severity_level": "error",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "critical"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "55988695-af2d-5f55-9625-05fd68597477",
                    "title": "CephMonQuorumLost",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "count by (namespace) (kube_pod_status_phase{pod=~\"rook-ceph-mon-.*\", phase=~\"Running|running\"} == 1) \u003c 2\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "5m",
                    "annotations": {
                        "description": "Storage cluster quorum is lost. Contact Support.",
                        "message": "Storage quorum is lost",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/CephMonQuorumLost.md",
                        "severity_level": "critical",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "critical"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "adf9f0d4-5d5f-5ebc-b992-1c5ba2e8be3e",
                    "title": "CephMonHighNumberOfLeaderChanges",
                    "condition": "threshold",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "(ceph_mon_metadata{job=\"rook-ceph-mgr\"} * on (ceph_daemon, namespace) group_left() (rate(ceph_mon_num_elections{job=\"rook-ceph-exporter\"}[5m]) * 60)) \u003e 0.95\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        },
                        {
                            "refId": "prometheus_math",
                            "queryType": "math",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "is_number($query) || is_nan($query) || is_inf($query)",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "prometheus_math",
                                "type": "math"
                            }
                        },
                        {
                            "refId": "threshold",
                            "queryType": "threshold",
                            "relativeTimeRange": {
                                "from": 0,
                                "to": 0
                            },
                            "datasourceUid": "__expr__",
                            "model": {
                                "conditions": [
                                    {
                                        "evaluator": {
                                            "params": [
                                                0
                                            ],
                                            "type": "gt"
                                        }
                                    }
                                ],
                                "datasource": {
                                    "IsPrunable": false,
                                    "access": "",
                                    "apiVersion": "",
                                    "basicAuth": false,
                                    "basicAuthUser": "",
                                    "created": "0001-01-01T00:00:00Z",
                                    "database": "",
                                    "id": -100,
                                    "isDefault": false,
                                    "jsonData": {},
                                    "name": "__expr__",
                                    "readOnly": false,
                                    "secureJsonData": {},
                                    "type": "__expr__",
                                    "uid": "__expr__",
                                    "updated": "0001-01-01T00:00:00Z",
                                    "url": "",
                                    "user": "",
                                    "withCredentials": false
                                },
                                "expression": "prometheus_math",
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "refId": "threshold",
                                "type": "threshold"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "for": "5m",
                    "annotations": {
                        "description": "Ceph Monitor {{ $labels.ceph_daemon }} on host {{ $labels.hostname }} has seen {{ $value | printf \"%.2f\" }} leader changes per minute recently.",
                        "message": "Storage Cluster has seen many leader changes recently.",
                        "runbook_url": "https://github.com/openshift/runbooks/blob/master/alerts/openshift-container-storage-operator/CephMonHighNumberOfLeaderChanges.md",
                        "severity_level": "warning",
                        "storage_type": "ceph"
                    },
                    "labels": {
                        "__converted_prometheus_rule__": "true",
                        "severity": "warning"
                    },
                    "isPaused": false,
                    "missing_series_evals_to_resolve": 1
                }
            ]
        },
        {
            "orgId": 1,
            "name": "telemeter.rules",
            "folder": "RHOCP_OPS_EXTRA/openshift-storage-prometheus-ceph-rules.yaml",
            "interval": "1m",
            "rules": [
                {
                    "uid": "11e93f59-148a-5406-b345-ba12da6a921e",
                    "title": "job:ceph_osd_metadata:count",
                    "condition": "query",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "count by (namespace) (ceph_osd_metadata{job=\"rook-ceph-mgr\"})\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "labels": {
                        "__converted_prometheus_rule__": "true"
                    },
                    "isPaused": false,
                    "record": {
                        "metric": "job:ceph_osd_metadata:count",
                        "from": "query",
                        "targetDatasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                    },
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "a8b70985-1226-562c-9f68-ecdb2c777c04",
                    "title": "job:odf_system_pvs:count",
                    "condition": "query",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "count by (namespace) (kube_persistentvolume_info * on (storageclass) group_left(provisioner, namespace) kube_storageclass_info {provisioner=~\"(.*rbd.csi.ceph.com)|(.*cephfs.csi.ceph.com)|(.*topolvm.cybozu.com)\"})\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "labels": {
                        "__converted_prometheus_rule__": "true"
                    },
                    "isPaused": false,
                    "record": {
                        "metric": "job:odf_system_pvs:count",
                        "from": "query",
                        "targetDatasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                    },
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "b0cee20a-337e-57fa-91bc-00984fbfa5f7",
                    "title": "job:ceph_pools_iops:total",
                    "condition": "query",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "sum by (namespace) (ceph_pool_rd{job=\"rook-ceph-mgr\"} + on(pool_id, namespace) ceph_pool_wr)\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "labels": {
                        "__converted_prometheus_rule__": "true"
                    },
                    "isPaused": false,
                    "record": {
                        "metric": "job:ceph_pools_iops:total",
                        "from": "query",
                        "targetDatasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                    },
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "b00635a3-0475-5dd9-8f8e-d0e48a1f5e4b",
                    "title": "job:ceph_pools_iops_bytes:total",
                    "condition": "query",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "sum by (namespace) (ceph_pool_rd_bytes{job=\"rook-ceph-mgr\"} + on(pool_id, namespace) ceph_pool_wr_bytes)\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "labels": {
                        "__converted_prometheus_rule__": "true"
                    },
                    "isPaused": false,
                    "record": {
                        "metric": "job:ceph_pools_iops_bytes:total",
                        "from": "query",
                        "targetDatasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                    },
                    "missing_series_evals_to_resolve": 1
                },
                {
                    "uid": "c7c72a98-fa46-52f4-95d6-a993a5161b88",
                    "title": "job:ceph_versions_running:count",
                    "condition": "query",
                    "data": [
                        {
                            "refId": "query",
                            "queryType": "prometheus",
                            "relativeTimeRange": {
                                "from": 660,
                                "to": 60
                            },
                            "datasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE",
                            "model": {
                                "datasource": {
                                    "type": "prometheus",
                                    "uid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                                },
                                "expr": "count by (namespace) (count by (ceph_version, namespace) (ceph_mon_metadata{job=\"rook-ceph-mgr\"} or ceph_osd_metadata{job=\"rook-ceph-mgr\"} or ceph_rgw_metadata{job=\"rook-ceph-mgr\"} or ceph_mds_metadata{job=\"rook-ceph-mgr\"} or ceph_mgr_metadata{job=\"rook-ceph-mgr\"}))\n",
                                "instant": true,
                                "intervalMs": 1000,
                                "maxDataPoints": 43200,
                                "range": false,
                                "refId": "query"
                            }
                        }
                    ],
                    "noDataState": "OK",
                    "execErrState": "OK",
                    "labels": {
                        "__converted_prometheus_rule__": "true"
                    },
                    "isPaused": false,
                    "record": {
                        "metric": "job:ceph_versions_running:count",
                        "from": "query",
                        "targetDatasourceUid": "REPLACE_ME_WITH_YOUR_DATASOURCE"
                    },
                    "missing_series_evals_to_resolve": 1
                }
            ]
        }
    ]
}